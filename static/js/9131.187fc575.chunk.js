"use strict";(self.webpackChunkweb_v1=self.webpackChunkweb_v1||[]).push([[9131],{49131:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(47313),r=a(66672),i=a(55291),l=a(65808),n=a(72180),d=a(68197),c=a(59624),x=a(28770),o=a(43220),m=a(8773),p=a(29878),h=a(47631),u=a(76852),g=a(84887),k=a(37209),f=a(2135),j=a(46417);const b="http://0.tcp.ap.ngrok.io:19571/",{TextArea:v}=r.default;const w=function(e){let{dataProp:t,setRefreshData:r}=e;const w=t.carts,N=(t.isLoader,[]),y=["terrible","bad","normal","good","wonderful"],[_,Z]=(0,s.useState)({rating:0,comment:"",package_id:null,booking_details:null}),[S,I]=(0,s.useState)({data:null,isLoading:!1,message:null}),z=JSON.parse(localStorage.getItem("user")),[C,P]=(0,s.useState)(!1);let T=0,R=0;return null!==w&&w.map((e=>{const{id:t,customer_amount:s,booking_date:r,created_at:i,service:n,booking_details_id:d}=e,c=e.package,x=c.percentage_discount*n.price/100;return T+=parseInt(s,10)*parseInt(n.price,10),R+=parseInt(s,10)*parseInt(x,10),N.push({key:t,product:(0,j.jsx)("div",{className:"cart-single",children:(0,j.jsxs)("div",{className:"flex items-center gap-x-[25px]",children:[(0,j.jsx)("img",{className:"max-w-[80px] min-h-[80px] ltr:mr-[25px] rtl:ml-[25px] rounded-[10px]",style:{width:80},src:c.thumbnail?"".concat(b,"/").concat(c.thumbnail):a(93357),alt:""}),(0,j.jsx)("figcaption",{children:(0,j.jsxs)("div",{className:"cart-single__info",children:[(0,j.jsx)(h.default,{as:"h6",className:"text-base font-medium text-dark dark:text-white87",children:(0,j.jsx)(f.rU,{to:"/tour-service/".concat(c.id),className:"text-dark hover:text-primary dark:text-white87 hover:dark:text-primary",children:c.name})}),(0,j.jsxs)("ul",{className:"flex items-center mb-0",children:[(0,j.jsxs)("li",{className:"ltr:mr-5 rtl:ml-5",children:[(0,j.jsx)("span",{className:"text-dark dark:text-white87 ltr:mr-[5px] rtl:ml-[5px] text-[15px] font-medium",children:"Service :"}),(0,j.jsx)("span",{className:"text-body dark:text-white60 text-[15px]",children:n.detail})]}),(0,j.jsxs)("li",{children:[(0,j.jsxs)("span",{className:"text-dark dark:text-white87 ltr:mr-[5px] rtl:ml-[5px] text-[15px] font-medium",children:[" ","Booking Date :"]}),(0,j.jsx)("span",{className:"text-body dark:text-white60 text-[15px]",children:(0,g.formatDate)(r)})]})]})]})})]})}),price:(0,j.jsxs)("span",{className:"text-body dark:text-white60 text-[15px]",children:["$",n.price]}),quantity:(0,j.jsx)("div",{className:"flex items-center gap-x-4",children:s}),total:(0,j.jsxs)("span",{className:"text-dark dark:text-white87 text-[15px] font-medium",children:["$",(s*n.price).toFixed(2)]}),action:(0,j.jsx)("div",{className:"text-start",children:null==e.review?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(u.Button,{onClick:()=>((e,t)=>{Z((a=>({...a,package_id:e,booking_details:t}))),P(!0)})(c.id,d),size:"default",className:"hover:bg-primary border-1 border-style border-primary text-primary hover:text-white text-[14px] font-semibold leading-[22px] inline-flex items-center justify-center rounded-[40px] px-[14px] h-[40px] shadow-btn gap-[8px] dark:text-primary dark:bg-transparent",children:[(0,j.jsx)(p.Z,{className:"w-[14px] h-[14px]"}),"Reviews"]})}):(0,j.jsx)("span",{className:"ant-rate-content",children:(0,j.jsx)(l.Z,{className:"ltr:[&>li]:mr-0.5 rtl:[&>li]:ml-0.5 [&>li.ant-rate-star-zero>div>div>span>svg]:text-[#c6d0dc]",allowHalf:!0,defaultValue:e.review.rating,disabled:!0})})})})})),(0,j.jsxs)("div",{className:"w-full dark:bg-white10 mb-[25px] p-[25px] rounded-[15px]",children:[(0,j.jsx)("div",{className:"border-b table-responsive table-bg-transparent table-head-none hover-tr-none table-td-border-none border-regular dark:border-white10",children:(0,j.jsx)(n.Z,{pagination:!1,dataSource:N,columns:[{title:"Package",dataIndex:"product",key:"product"},{title:"Price",dataIndex:"price",key:"price"},{title:"Tourist",dataIndex:"quantity",key:"quantity"},{title:"Total",dataIndex:"total",key:"total"},{title:"Review",dataIndex:"action",key:"action"}]})}),(0,j.jsx)(d.Z,{justify:"end",children:(0,j.jsx)(c.Z,{xxl:8,xl:5,md:9,sm:14,xs:24,offset:0,children:(0,j.jsxs)("div",{className:"invoice-summary-inner",children:[(0,j.jsxs)("ul",{className:"flex flex-col mt-5 mb-[10px]",children:[(0,j.jsxs)("li",{className:"inline-flex justify-between",children:[(0,j.jsx)("span",{className:"text-dark dark:text-white87 text-[15px] font-medium",children:"Booked at:"}),(0,j.jsx)("span",{className:"text-dark dark:text-white87 text-[15px] font-medium",children:"".concat((0,g.formatDate)(t.created_at))})]}),(0,j.jsxs)("li",{className:"inline-flex justify-between",children:[(0,j.jsx)("span",{className:"text-dark dark:text-white87 text-[15px] font-medium",children:"Subtotal :"}),(0,j.jsx)("span",{className:"text-dark dark:text-white87 text-[15px] font-medium",children:"$".concat(T)})]})]}),(0,j.jsxs)(h.default,{className:"flex justify-between",as:"h4",children:[(0,j.jsx)("span",{className:"text-base font-medium text-dark dark:text-white87",children:"Paid : "}),(0,j.jsx)("span",{className:"text-lg font-semibold text-primary",children:"$".concat(t.total_price)})]})]})})}),(0,j.jsx)(x.Z,{type:"primary",title:"Share Your Thoughts: Tour-service review",open:C,onOk:()=>{if(0===_.rating)return i.ZP.destroy(),void i.ZP.error("Please provide tour service a rating star.");(0,k.postReview)(I,_),r(!0),P(!1)},onCancel:()=>{P(!1)},style:{minWidth:"60%"},children:(0,j.jsxs)("div",{className:"dark:text-white60",children:[(0,j.jsxs)("span",{className:"pl-10 ant-rate-content",children:[(0,j.jsx)(l.Z,{tooltips:y,onChange:e=>{Z((t=>({...t,rating:e})))},value:_.rating,className:" [&>li.ant-rate-star-zero>div>div>span>svg]:text-[#c6d0dc]",style:{fontSize:"16px"}}),"\xa0\xa0","".concat(_.rating?y[_.rating-1]:"")]}),(0,j.jsx)(o.Z,{avatar:(0,j.jsx)(m.C,{src:"".concat(z&&z.profile_image?b+z.profile_image:a(98707)),alt:"Han Solo"}),content:(0,j.jsx)(v,{value:_.comment,onChange:e=>{Z((t=>({...t,comment:e.target.value})))},rows:4,autoSize:{minRows:4,maxRows:100}})})]})})]})}},29878:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(61962),r=a(75192),i=a.n(r);const l=e=>{const{color:t,size:a,...r}=e;return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:t,...r},s.createElement("path",{d:"M2.5,10.56l9,5.2a1,1,0,0,0,1,0l9-5.2a1,1,0,0,0,0-1.73l-9-5.2a1,1,0,0,0-1,0l-9,5.2a1,1,0,0,0,0,1.73ZM12,5.65l7,4-7,4.05L5,9.69Zm8.5,7.79L12,18.35,3.5,13.44a1,1,0,0,0-1.37.36,1,1,0,0,0,.37,1.37l9,5.2a1,1,0,0,0,1,0l9-5.2a1,1,0,0,0,.37-1.37A1,1,0,0,0,20.5,13.44Z"}))};l.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},l.defaultProps={color:"currentColor",size:"24"};const n=l},93357:(e,t,a)=>{e.exports=a.p+"static/media/travel-cambodia.1dcb299345ee17529b72.png"}}]);