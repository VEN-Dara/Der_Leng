"use strict";(self.webpackChunkweb_v1=self.webpackChunkweb_v1||[]).push([[8957],{86312:(e,t,n)=>{n.r(t),n.d(t,{Checkbox:()=>a,CheckboxGroup:()=>i});var r=n(47313),l=n(62702),o=n(46417);const i=l.CheckboxStyle.Group;function a(e){const{item:t,defaultSelect:n,checked:a,multiple:d,onChange:s,onChangeTriger:c,defaultChecked:u,disabled:m,children:h}=e,v=t,[g,x]=(0,r.useState)({checkedList:n,indeterminate:!0,checkAll:!1});(0,r.useEffect)((()=>{c&&c(g.checkedList)}),[g]);return d?(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"border-b-normal dark:border-b-white10 border-b-1 pb-[15px]",children:(0,o.jsx)(l.CheckboxStyle,{indeterminate:g.indeterminate,onChange:e=>{x({checkedList:e.target.checked?v:[],indeterminate:!1,checkAll:e.target.checked})},checked:g.checkAll,children:"Check all"})}),(0,o.jsx)("br",{}),(0,o.jsx)(i,{options:v,value:g.checkedList,onChange:e=>{x({checkedList:e,indeterminate:!!e.length&&e.length<v.length,checkAll:e.length===v.length})}})]}):(0,o.jsx)(l.CheckboxStyle,{checked:a,onChange:e=>s(e.target.checked,e.target.value),defaultChecked:u,disabled:m,children:h})}a.defaultProps={checked:!1}},62702:(e,t,n)=>{n.r(t),n.d(t,{CheckboxStyle:()=>i});var r,l=n(30168),o=n(32697);const i=(0,n(70244).ZP)(o.Z)(r||(r=(0,l.Z)(["\n\n"])))},44753:(e,t,n)=>{n.r(t),n.d(t,{LoginGoogle:()=>u});var r=n(31881),l=n.n(r),o=n(75943),i=n.n(o),a=n(12840),d=n(47313),s=n(58467),c=n(46417);const u=()=>{const e="".concat("http://0.tcp.ap.ngrok.io:19571/","/api"),[t,n]=(0,d.useState)();(0,s.s0)();return(0,d.useEffect)((()=>{const e=()=>{const e=document.getElementById("google-btn-container");if(e){const t=e.offsetWidth;n(t)}};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{id:"google-btn-container",className:"flex items-center justify-center",children:(0,c.jsx)(a.rg,{clientId:"275405827855-hcnqop1ehdi67i59aqk0ugo84o61pkm4.apps.googleusercontent.com",children:(0,c.jsx)(a.kZ,{onSuccess:async t=>{const n={grant_type:"convert_token",client_id:"FJfTHZjuIRwzmOgjtJQeYzt5r5FXmgJHwDnMNsXP",client_secret:"fpdySFRYEReIJ0cTONkHTlIEXxoVooli4Gmxvm3XXhb0RGgchOCTTXNIq05VXuXDZNNFKgePjqkgK3AfAj9MhT3xziaFnokBXQMELqhgwNjEXTnQuz34TcnlTx34gWlU",backend:"google-identity",token:t.credential};try{const{data:t}=await l().post("".concat(e,"/auth/social_login"),n,{headers:{"Content-Type":"application/json"}},{withCredentials:!0});i().set("access_token",t.access_token),i().set("logedIn",!0),localStorage.setItem("user",JSON.stringify(t.user)),window.location.pathname="/"}catch(r){console.log(r.response)}},onFailure:e=>{console.log("failed:",e)},useOneTap:!0,type:"standard",size:"large",shape:"pill",width:"".concat(t),logo_alignment:"center"})})})})}},78957:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(47313),l=n(58467),o=n(2135),i=n(68197),a=n(59624),d=n(12008),s=n(66672),c=n(59491),u=n(1084),m=n(93214),h=n(86312),v=n(44420),g=n(44753),x=n(46417);const b=function(){const e=(0,u.I0)(),t=(0,l.s0)(),[n,b]=(0,r.useState)(""),[p,f]=(0,r.useState)({values:null,checked:null});return(0,x.jsx)(i.Z,{justify:"center",children:(0,x.jsx)(a.Z,{xxl:6,xl:8,md:12,sm:18,xs:24,children:(0,x.jsxs)(m.AuthFormWrap,{className:"mt-6 bg-white rounded-md dark:bg-white10 shadow-regular dark:shadow-none",children:[(0,x.jsx)("div",{className:"px-5 py-4 text-center border-b border-gray-200 dark:border-white10",children:(0,x.jsx)("h2",{className:"mb-0 text-xl font-kantumruy-pro font-semibold text-dark dark:text-white87",children:"\u1785\u17bc\u179b\u179a\u17bd\u1798\u1787\u17b6\u1798\u17bd\u1799 \u178a\u17be\u179a\u179b\u17c1\u1784"})}),(0,x.jsx)("div",{className:"px-10 pt-8 pb-6",children:(0,x.jsxs)(d.Z,{name:"register",onFinish:n=>{e((0,v.register)(n)).then((e=>{b(""),t("/login")})).catch((e=>{e.response.data.errors?b(e.response.data.errors[0][1][0]):e.response.data&&b(JSON.stringify(e.response.data))}))},layout:"vertical",children:[(0,x.jsx)(d.Z.Item,{label:"Fullname",name:"fullname",className:"[&>div>div>label]:text-sm [&>div>div>label]:text-dark dark:[&>div>div>label]:text-white60 [&>div>div>label]:font-medium",rules:[{required:!0,message:"Please input your Full name!"}],children:(0,x.jsx)(s.default,{placeholder:"Full name"})}),(0,x.jsx)(d.Z.Item,{label:"Username",name:"username",className:"[&>div>div>label]:text-sm [&>div>div>label]:text-dark dark:[&>div>div>label]:text-white60 [&>div>div>label]:font-medium",rules:[{required:!0,message:"Please input your username!"},{validator:async(e,t)=>{if(!/^[a-zA-Z0-9_]+$/.test(t))return Promise.reject("Username must contain only letters, numbers, and underscores.");try{if(await(0,v.isUsernameExist)(t))return Promise.reject("This username already taken. Please choose another one.")}catch(n){return console.error("Error checking username:",n),Promise.reject("An error occurred while checking the username.")}return Promise.resolve()}}],children:(0,x.jsx)(s.default,{placeholder:"username"})}),(0,x.jsx)(d.Z.Item,{name:"email",label:"Email Address",className:"[&>div>div>label]:text-sm [&>div>div>label]:text-dark dark:[&>div>div>label]:text-white60 [&>div>div>label]:font-medium",rules:[{required:!0,message:"Please input your email!",type:"email"}],children:(0,x.jsx)(s.default,{placeholder:"name@example.com"})}),(0,x.jsx)(d.Z.Item,{label:"Phone",name:"phone",className:"[&>div>div>label]:text-sm [&>div>div>label]:text-dark dark:[&>div>div>label]:text-white60 [&>div>div>label]:font-medium",rules:[{required:!0,message:"Please input your Phone number!"},{validator:async(e,t)=>!1===/^\+\d{7,15}$/.test(t)?Promise.reject("Phone number must contain country code (+885) and phone number."):Promise.resolve()}],children:(0,x.jsx)(s.default,{placeholder:"+855123456789"})}),(0,x.jsx)(d.Z.Item,{label:"Password",name:"password",className:"[&>div>div>label]:text-sm [&>div>div>label]:text-dark dark:[&>div>div>label]:text-white60 [&>div>div>label]:font-medium",rules:[{required:!0,message:"Please input your password!"},{validator:async(e,t)=>{const n=/[a-zA-Z]/.test(t),r=/\d/.test(t);return!1===n||!1===r||t.length<8?Promise.reject("Password must contain at least one letter and one number and 8 digit."):Promise.resolve()}}],children:(0,x.jsx)(s.default.Password,{placeholder:"Password"})}),(0,x.jsx)("p",{className:"text-red-500",children:""!==n?n:null}),(0,x.jsx)("div",{className:"flex items-center justify-between",children:(0,x.jsx)(h.Checkbox,{onChange:e=>{f({...p,checked:e})},checked:p.checked,children:"Creating an account means you\u2019re okay with our Terms of Service and Privacy Policy"})}),(0,x.jsx)(d.Z.Item,{children:(0,x.jsx)(c.Z,{className:"w-full h-12 p-0 my-6 text-sm font-medium",htmlType:"submit",type:"primary",size:"large",children:"Create Account"})}),(0,x.jsx)("p",{className:"relative text-body dark:text-white60 -mt-2.5 mb-6 text-center text-13 font-medium before:absolute before:w-full before:h-px ltr:before:left-0 rtl:before:right-0 before:top-1/2 before:-translate-y-1/2 before:z-10 before:bg-gray-200 dark:before:bg-white10",children:(0,x.jsx)("span",{className:"relative z-20 px-4 bg-white dark:bg-[#1b1d2a]",children:"Or"})}),(0,x.jsx)(g.LoginGoogle,{})]})}),(0,x.jsx)("div",{className:"p-6 text-center bg-gray-100 dark:bg-white10 rounded-b-md",children:(0,x.jsxs)("p",{className:"mb-0 text-sm font-medium text-body dark:text-white60",children:["Already have an account?",(0,x.jsx)(o.rU,{to:"/",className:"ltr:ml-1.5 rtl:mr-1.5 text-info hover:text-primary",children:"Sign In"})]})})]})})})}},93214:(e,t,n)=>{n.r(t),n.d(t,{AuthFormWrap:()=>c,AuthenticationWrap:()=>d,Content:()=>s});var r,l,o,i=n(30168),a=n(70244);const d=a.ZP.div(r||(r=(0,i.Z)(["\n  \n"]))),s=a.ZP.div(l||(l=(0,i.Z)(["\n    \n"]))),c=a.ZP.div(o||(o=(0,i.Z)(["\n  \n  \n"])))},12840:(e,t,n)=>{n.d(t,{kZ:()=>s,rg:()=>o});var r=n(47313);const l=(0,r.createContext)(null);function o(e){let{clientId:t,nonce:n,onScriptLoadSuccess:o,onScriptLoadError:i,children:a}=e;const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:l}=e,[o,i]=(0,r.useState)(!1),a=(0,r.useRef)(n);a.current=n;const d=(0,r.useRef)(l);return d.current=l,(0,r.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;i(!0),null===(e=a.current)||void 0===e||e.call(a)},e.onerror=()=>{var e;i(!1),null===(e=d.current)||void 0===e||e.call(d)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[t]),o}({nonce:n,onScriptLoadSuccess:o,onScriptLoadError:i}),s=(0,r.useMemo)((()=>({clientId:t,scriptLoadedSuccessfully:d})),[t,d]);return r.createElement(l.Provider,{value:s},a)}function i(){const e=(0,r.useContext)(l);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function a(e){var t;return null!==(t=null===e||void 0===e?void 0:e.clientId)&&void 0!==t?t:null===e||void 0===e?void 0:e.client_id}const d={large:40,medium:32,small:20};function s(e){let{onSuccess:t,onError:n,useOneTap:l,promptMomentNotification:o,type:s="standard",theme:c="outline",size:u="large",text:m,shape:h,logo_alignment:v,width:g,locale:x,click_listener:b,containerProps:p,...f}=e;const k=(0,r.useRef)(null),{clientId:w,scriptLoadedSuccessfully:y}=i(),j=(0,r.useRef)(t);j.current=t;const P=(0,r.useRef)(n);P.current=n;const S=(0,r.useRef)(o);return S.current=o,(0,r.useEffect)((()=>{var e,t,n,r,o,i,d,p,C;if(y)return null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.initialize({client_id:w,callback:e=>{var t;if(!(null===e||void 0===e?void 0:e.credential))return null===(t=P.current)||void 0===t?void 0:t.call(P);const{credential:n,select_by:r}=e;j.current({credential:n,clientId:a(e),select_by:r})},...f}),null===(i=null===(o=null===(r=null===window||void 0===window?void 0:window.google)||void 0===r?void 0:r.accounts)||void 0===o?void 0:o.id)||void 0===i||i.renderButton(k.current,{type:s,theme:c,size:u,text:m,shape:h,logo_alignment:v,width:g,locale:x,click_listener:b}),l&&(null===(C=null===(p=null===(d=null===window||void 0===window?void 0:window.google)||void 0===d?void 0:d.accounts)||void 0===p?void 0:p.id)||void 0===C||C.prompt(S.current)),()=>{var e,t,n;l&&(null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.cancel())}}),[w,y,l,s,c,u,m,h,v,g,x]),r.createElement("div",{...p,ref:k,style:{height:d[u],...null===p||void 0===p?void 0:p.style}})}}}]);